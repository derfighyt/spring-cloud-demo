#默认端口1111
server:
  port: 1111

spring:
  application:
    name: registry-server
  profiles:
    active: dev
#配置中心
#  cloud:
#    config:
#      uri: http://config:8888
#      fail-fast: true
#      password: ${CONFIG_SERVICE_PASSWORD}
#      username: ${CONFIG_SERVICE_USERNAME}

#开发环境注册中心配置，禁止服务中心作为客户端注册自己
spring:
  profiles: dev

eureka:
  instance:
    hostname: localhost
    prefer-ip-address: true
  client:
    register-with-eureka: false
    fetch-registry: false
    service-url:
     defaultZone: http://localhost:${server.port}/eureka/
    server:
      waitTimeInMsWhenSyncEmpty: 0

#高可用配置1，相互注册
spring:
  profiles: registry_ha_1

eureka:
  instance:
    hostname: registry-server1
    prefer-ip-address: false
  client:
    service-url:
     defaultZone: http://registry-server2:${server.port}/eureka/
    server:
      waitTimeInMsWhenSyncEmpty: 0

#高可用配置2
spring:
  profiles: registry_ha_2

eureka:
  instance:
    hostname: registry-server2
    prefer-ip-address: false
  client:
    service-url:
     defaultZone: http://registry-server1:${server.port}/eureka/
    server:
      waitTimeInMsWhenSyncEmpty: 0
